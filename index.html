<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Player</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="app-container">
        <!-- STICKY HEADER -->
        <header class="app-header">
            <h1 class="app-title">
                <i class="fa-solid fa-podcast"></i>
                Podcast Player
            </h1>
            <!-- Theme Toggle -->
            <button class="theme-toggle" id="theme-toggle" aria-label="Switch to light mode" title="Toggle theme">
                <i class="fa-solid fa-sun theme-icon-light"></i>
                <i class="fa-solid fa-moon theme-icon-dark"></i>
            </button>
        </header>

        <!-- STICKY PODCAST SELECTOR -->
        <section class="podcast-selector-section">
            <div class="selector-container">
                <label class="select-label">Select Podcast:</label>
                <div class="custom-dropdown">
                    <div class="dropdown-selected" id="dropdown-selected">
                        <span class="selected-text">Loading podcasts...</span>
                        <i class="fa-solid fa-chevron-down dropdown-arrow"></i>
                    </div>
                    <div class="dropdown-options" id="dropdown-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                <!-- Keep original select hidden for form compatibility -->
                <select id="podcast-select" class="podcast-select-hidden" aria-label="Select a podcast"
                    style="display: none;">
                    <option value="">Loading podcasts...</option>
                </select>
            </div>
        </section>

        <!-- SCROLLABLE CONTENT CONTAINER -->
        <main class="main-content">
            <!-- Podcast Info Section (Cover + Metadata) -->
            <section class="podcast-info-section">
                <div class="cover-art-container">
                    <img id="cover-art" src="" alt="Podcast cover" class="cover-art">
                    <div class="cover-art-placeholder">
                        <i class="fa-solid fa-podcast"></i>
                    </div>
                </div>

                <div class="metadata-container">
                    <h2 id="podcast-title" class="podcast-title">Select a podcast to begin</h2>
                    <div class="metadata-details">
                        <span id="episode-count" class="episode-count">—</span>
                    </div>
                </div>
            </section>

            <!-- Episodes List -->
            <section class="episodes-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-list"></i>
                    Episodes
                </h3>
                <div id="episodes-list" class="episodes-list">
                    <div class="empty-state">
                        <i class="fa-solid fa-music"></i>
                        <p>Select a podcast to view episodes</p>
                    </div>
                </div>
            </section>

            <!-- Embed Section -->
            <section class="embed-section">
                <h3 class="section-title">
                    <i class="fa-solid fa-code"></i>
                    Embed Player
                </h3>
                <div class="embed-container">
                    <p class="embed-description">Copy this code to embed the player on your website:</p>
                    <div class="embed-code-wrapper">
                        <pre id="embed-code"
                            class="embed-code"><code>&lt;iframe src="about:blank" width="100%" height="600" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;</code></pre>
                        <button id="copy-embed" class="copy-btn" aria-label="Copy embed code">
                            <i class="fa-solid fa-copy"></i>
                            <span class="copy-text">Copy</span>
                        </button>
                    </div>
                    <div id="copy-notification" class="copy-notification hidden">
                        <i class="fa-solid fa-circle-check"></i>
                        Copied to clipboard!
                    </div>
                </div>
            </section>
        </main>

        <!-- Player Modal Overlay -->
        <div id="player-modal" class="player-modal">
            <div class="player-bar">
                <!-- Close Button -->
                <button id="player-close-btn" class="player-close-btn" aria-label="Close player" title="Close player">
                    <i class="fa-solid fa-xmark"></i>
                </button>

                <!-- Episode Info -->
                <div class="player-info">
                    <div class="player-title" id="player-title">Select an episode to play</div>
                    <div class="player-podcast" id="player-podcast">—</div>
                </div>

                <!-- Audio Element -->
                <audio id="audio-element" preload="metadata"></audio>

                <!-- Progress Bar -->
                <div class="player-progress-container">
                    <div class="progress-bar">
                        <div id="progress-filled" class="progress-filled"></div>
                        <div id="progress-buffered" class="progress-buffered"></div>
                        <input type="range" id="progress-slider" class="progress-slider" min="0" max="100" value="0"
                            step="0.1" aria-label="Seek audio">
                    </div>
                    <div class="time-display">
                        <span id="current-time" class="time">0:00</span>
                        <span id="duration-time" class="time">0:00</span>
                    </div>
                </div>

                <!-- Player Controls -->
                <div class="player-controls-compact">
                    <!-- Skip Backward -->
                    <button id="skip-backward" class="control-btn control-btn-compact" aria-label="Skip backward 15s"
                        title="-15s">
                        <i class="fa-solid fa-rotate-left"></i>
                    </button>

                    <!-- Play/Pause -->
                    <button id="play-pause" class="control-btn control-btn-play" aria-label="Play" title="Play/Pause">
                        <i class="fa-solid fa-play"></i>
                        <i class="fa-solid fa-pause" style="display: none;"></i>
                    </button>

                    <!-- Skip Forward -->
                    <button id="skip-forward" class="control-btn control-btn-compact" aria-label="Skip forward 30s"
                        title="+30s">
                        <i class="fa-solid fa-rotate-right"></i>
                    </button>

                    <!-- Speed -->
                    <div class="speed-control-compact">
                        <button id="speed-btn" class="control-btn control-btn-compact" aria-label="Playback speed"
                            title="Speed">
                            <span class="speed-text">1x</span>
                        </button>
                        <div id="speed-menu" class="speed-menu hidden">
                            <button class="speed-option" data-speed="0.5">0.5x</button>
                            <button class="speed-option" data-speed="0.75">0.75x</button>
                            <button class="speed-option active" data-speed="1">1x</button>
                            <button class="speed-option" data-speed="1.25">1.25x</button>
                            <button class="speed-option" data-speed="1.5">1.5x</button>
                            <button class="speed-option" data-speed="2">2x</button>
                        </div>
                    </div>

                    <!-- Volume -->
                    <button id="volume-btn" class="control-btn control-btn-compact" aria-label="Volume"
                        title="Mute/Unmute">
                        <i class="fa-solid fa-volume-high" id="volume-icon"></i>
                    </button>

                    <!-- Volume Slider (appears on hover) -->
                    <div class="volume-slider-popup">
                        <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="100"
                            step="1" aria-label="Volume level">
                    </div>

                    <!-- Download -->
                    <button id="download-btn" class="control-btn control-btn-compact" aria-label="Download"
                        title="Download episode" disabled>
                        <i class="fa-solid fa-download"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay">
            <div class="spinner"></div>
            <p>Loading podcasts...</p>
        </div>

        <!-- Error Toast -->
        <div id="error-toast" class="error-toast hidden">
            <i class="fa-solid fa-circle-exclamation"></i>
            <span id="error-message"></span>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>